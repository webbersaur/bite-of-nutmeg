<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Bite of Nutmeg - Homepage Mockup</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --navy: #1e3a6e;
            --navy-dark: #152a52;
            --navy-light: #2a4a8a;
            --gold: #f0b323;
            --white: #ffffff;
            --off-white: #f5f7fa;
            --gray-light: #e8edf3;
            --gray: #6c757d;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--off-white);
            color: var(--navy);
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: var(--white);
            padding: 1.5rem;
        }

        .header-top {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            max-width: 900px;
            margin: 0 auto 1.5rem;
        }

        .header-logo {
            height: 80px;
            width: auto;
            flex-shrink: 0;
        }

        .header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--navy);
            margin: 0;
        }

        /* Search */
        .search-container {
            display: flex;
            max-width: 600px;
            margin: 0 auto 2rem;
            background: var(--white);
            border: 2px solid var(--gray-light);
            border-radius: 50px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .search-input {
            flex: 1;
            padding: 1rem 1.5rem;
            border: none;
            font-size: 1rem;
            outline: none;
        }

        .near-me-btn {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            padding: 1rem 1.25rem;
            background: var(--white);
            border: none;
            border-left: 1px solid var(--gray-light);
            color: var(--navy);
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
        }

        .near-me-btn svg { width: 16px; height: 16px; }

        .find-btn {
            padding: 1rem 2rem;
            background: var(--navy);
            color: var(--white);
            border: none;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
        }

        .find-btn:hover { background: var(--navy-dark); }

        /* Towns */
        .towns-grid {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1.5rem;
            max-width: 800px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .town-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            transition: transform 0.2s;
        }

        .town-item:hover { transform: translateY(-3px); }

        .town-icon { width: 70px; height: 52px; margin-bottom: 0.5rem; }

        .town-name {
            color: var(--navy);
            font-size: 0.85rem;
            font-weight: 500;
            text-decoration: underline;
        }

        /* Sections */
        .section {
            background: var(--gray-light);
            margin: 1.5rem;
            padding: 1.5rem;
            border-radius: 8px;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--navy);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }

        .section-title::after {
            content: '';
            flex: 1;
            height: 1px;
            background: #ccc;
            margin-left: 1rem;
        }

        /* Map */
        .map-section {
            background: var(--gray-light);
            margin: 1.5rem;
            padding: 1.5rem;
            border-radius: 8px;
        }

        .map-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .map-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--navy);
        }

        .map-toggle {
            padding: 0.5rem 1rem;
            background: var(--navy);
            color: var(--white);
            border: none;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
        }

        #map { height: 300px; border-radius: 8px; z-index: 1; }

        /* Featured Cards - 2 per row with food image */
        .featured-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.25rem;
        }

        .featured-card {
            background: var(--white);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }

        .featured-card:hover {
            box-shadow: 0 6px 20px rgba(0,0,0,0.12);
        }

        .card-image-wrapper {
            position: relative;
            width: 100%;
            height: 160px;
            overflow: hidden;
        }

        .card-food-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .card-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 1rem;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
        }

        .card-name {
            font-size: 1.15rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .card-stars {
            display: flex;
            gap: 2px;
        }

        .star { color: var(--gold); font-size: 0.9rem; }
        .star.empty { color: rgba(255,255,255,0.4); }

        .card-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem;
            background: var(--navy);
            color: var(--white);
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            border: none;
            width: 100%;
            transition: background 0.2s;
        }

        .card-toggle:hover { background: var(--navy-dark); }

        .card-toggle svg {
            width: 16px;
            height: 16px;
            margin-left: 0.4rem;
            transition: transform 0.3s;
        }

        .card-toggle.open svg { transform: rotate(180deg); }

        /* Expandable Details */
        .card-details {
            display: none;
            padding: 1rem;
            background: var(--off-white);
        }

        .card-details.open { display: block; }

        .card-logo {
            width: 100%;
            max-height: 80px;
            object-fit: contain;
            margin-bottom: 0.75rem;
            padding: 0.5rem;
            background: white;
            border-radius: 6px;
        }

        .card-logo.dark-bg {
            background: var(--navy);
        }

        .detail-row {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.4rem 0;
        }

        .detail-row svg {
            width: 18px;
            height: 18px;
            color: var(--navy);
            flex-shrink: 0;
        }

        .detail-row a, .detail-row span {
            color: var(--navy);
            text-decoration: none;
            font-size: 0.9rem;
        }

        .detail-row a:hover { color: var(--gold); text-decoration: underline; }

        .directions-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            padding: 0.6rem 1rem;
            background: var(--navy);
            color: var(--white);
            border: none;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            margin-top: 0.5rem;
        }

        .directions-btn:hover { background: var(--navy-dark); }

        /* Newsletter */
        .newsletter {
            background: var(--gray-light);
            padding: 2.5rem 1.5rem;
            text-align: center;
        }

        .newsletter h2 {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--navy);
            margin-bottom: 0.5rem;
        }

        .newsletter p {
            color: var(--gray);
            margin-bottom: 1.5rem;
        }

        .newsletter-form {
            display: flex;
            max-width: 450px;
            margin: 0 auto;
            background: var(--white);
            border: 2px solid var(--gray-light);
            border-radius: 50px;
            overflow: hidden;
        }

        .newsletter-input {
            flex: 1;
            padding: 1rem 1.5rem;
            border: none;
            font-size: 1rem;
            outline: none;
        }

        .newsletter-btn {
            padding: 1rem 1.75rem;
            background: var(--navy);
            color: var(--white);
            border: none;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-top { flex-direction: column; text-align: center; }
            .header-logo { height: 70px; }
            .header h1 { font-size: 1.2rem; text-align: center; }
            #map { height: 250px; }
            .search-container { flex-direction: column; border-radius: 12px; }
            .near-me-btn { border-left: none; border-top: 1px solid var(--gray-light); justify-content: center; }
            .find-btn { justify-content: center; }
            .towns-grid { gap: 1rem; }
            .town-icon { width: 55px; height: 40px; }
            .town-name { font-size: 0.75rem; }
            .featured-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <header class="header">
        <div class="header-top">
            <a href="/"><img src="logo-mobile.webp" alt="A Bite of Nutmeg" class="header-logo"></a>
            <h1>Discover the Best Restaurants from East Haven to Old Saybrook</h1>
        </div>

        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search for a restaurant or cuisine...">
            <button class="near-me-btn">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                Near Me
            </button>
            <button class="find-btn">Find ›</button>
        </div>

        <div class="towns-grid">
            <a href="restaurants-in-east-haven" class="town-item">
                <svg class="town-icon" viewBox="0 0 100 75" fill="none"><path d="M10 40 L50 10 L90 40 L90 70 L10 70 Z" fill="#4a90a4"/><path d="M10 40 L50 10 L90 40" stroke="#2c5f6e" stroke-width="3" fill="none"/><rect x="20" y="45" width="15" height="20" fill="#f5f5f5" stroke="#2c5f6e"/><rect x="65" y="45" width="15" height="20" fill="#f5f5f5" stroke="#2c5f6e"/><rect x="40" y="50" width="20" height="20" fill="#8b6914"/><circle cx="55" cy="60" r="2" fill="#f0b323"/><path d="M5 40 L50 5 L95 40" stroke="#6bb3c9" stroke-width="4" fill="none"/></svg>
                <span class="town-name">East Haven</span>
            </a>
            <a href="restaurants-in-branford" class="town-item">
                <svg class="town-icon" viewBox="0 0 100 75" fill="none"><path d="M10 40 L50 10 L90 40 L90 70 L10 70 Z" fill="#4a90a4"/><path d="M10 40 L50 10 L90 40" stroke="#2c5f6e" stroke-width="3" fill="none"/><rect x="20" y="45" width="15" height="20" fill="#f5f5f5" stroke="#2c5f6e"/><rect x="65" y="45" width="15" height="20" fill="#f5f5f5" stroke="#2c5f6e"/><rect x="40" y="50" width="20" height="20" fill="#8b6914"/><circle cx="55" cy="60" r="2" fill="#f0b323"/><path d="M5 40 L50 5 L95 40" stroke="#6bb3c9" stroke-width="4" fill="none"/></svg>
                <span class="town-name">Branford</span>
            </a>
            <a href="restaurants-in-guilford" class="town-item">
                <svg class="town-icon" viewBox="0 0 100 75" fill="none"><path d="M10 40 L50 10 L90 40 L90 70 L10 70 Z" fill="#4a90a4"/><path d="M10 40 L50 10 L90 40" stroke="#2c5f6e" stroke-width="3" fill="none"/><rect x="20" y="45" width="15" height="20" fill="#f5f5f5" stroke="#2c5f6e"/><rect x="65" y="45" width="15" height="20" fill="#f5f5f5" stroke="#2c5f6e"/><rect x="40" y="50" width="20" height="20" fill="#8b6914"/><circle cx="55" cy="60" r="2" fill="#f0b323"/><path d="M5 40 L50 5 L95 40" stroke="#6bb3c9" stroke-width="4" fill="none"/></svg>
                <span class="town-name">Guilford</span>
            </a>
            <a href="restaurants-in-madison" class="town-item">
                <svg class="town-icon" viewBox="0 0 100 75" fill="none"><path d="M10 40 L50 10 L90 40 L90 70 L10 70 Z" fill="#4a90a4"/><path d="M10 40 L50 10 L90 40" stroke="#2c5f6e" stroke-width="3" fill="none"/><rect x="20" y="45" width="15" height="20" fill="#f5f5f5" stroke="#2c5f6e"/><rect x="65" y="45" width="15" height="20" fill="#f5f5f5" stroke="#2c5f6e"/><rect x="40" y="50" width="20" height="20" fill="#8b6914"/><circle cx="55" cy="60" r="2" fill="#f0b323"/><path d="M5 40 L50 5 L95 40" stroke="#6bb3c9" stroke-width="4" fill="none"/></svg>
                <span class="town-name">Madison</span>
            </a>
            <a href="restaurants-in-clinton" class="town-item">
                <svg class="town-icon" viewBox="0 0 100 75" fill="none"><path d="M10 40 L50 10 L90 40 L90 70 L10 70 Z" fill="#4a90a4"/><path d="M10 40 L50 10 L90 40" stroke="#2c5f6e" stroke-width="3" fill="none"/><rect x="20" y="45" width="15" height="20" fill="#f5f5f5" stroke="#2c5f6e"/><rect x="65" y="45" width="15" height="20" fill="#f5f5f5" stroke="#2c5f6e"/><rect x="40" y="50" width="20" height="20" fill="#8b6914"/><circle cx="55" cy="60" r="2" fill="#f0b323"/><path d="M5 40 L50 5 L95 40" stroke="#6bb3c9" stroke-width="4" fill="none"/></svg>
                <span class="town-name">Clinton</span>
            </a>
            <a href="restaurants-in-westbrook" class="town-item">
                <svg class="town-icon" viewBox="0 0 100 75" fill="none"><path d="M10 40 L50 10 L90 40 L90 70 L10 70 Z" fill="#4a90a4"/><path d="M10 40 L50 10 L90 40" stroke="#2c5f6e" stroke-width="3" fill="none"/><rect x="20" y="45" width="15" height="20" fill="#f5f5f5" stroke="#2c5f6e"/><rect x="65" y="45" width="15" height="20" fill="#f5f5f5" stroke="#2c5f6e"/><rect x="40" y="50" width="20" height="20" fill="#8b6914"/><circle cx="55" cy="60" r="2" fill="#f0b323"/><path d="M5 40 L50 5 L95 40" stroke="#6bb3c9" stroke-width="4" fill="none"/></svg>
                <span class="town-name">Westbrook</span>
            </a>
            <a href="restaurants-in-old-saybrook" class="town-item">
                <svg class="town-icon" viewBox="0 0 100 75" fill="none"><path d="M10 40 L50 10 L90 40 L90 70 L10 70 Z" fill="#4a90a4"/><path d="M10 40 L50 10 L90 40" stroke="#2c5f6e" stroke-width="3" fill="none"/><rect x="20" y="45" width="15" height="20" fill="#f5f5f5" stroke="#2c5f6e"/><rect x="65" y="45" width="15" height="20" fill="#f5f5f5" stroke="#2c5f6e"/><rect x="40" y="50" width="20" height="20" fill="#8b6914"/><circle cx="55" cy="60" r="2" fill="#f0b323"/><path d="M5 40 L50 5 L95 40" stroke="#6bb3c9" stroke-width="4" fill="none"/></svg>
                <span class="town-name">Old Saybrook</span>
            </a>
        </div>
    </header>

    <section class="map-section">
        <div class="map-header">
            <span class="map-title">Explore the Shoreline</span>
            <button class="map-toggle" onclick="toggleMap()">Hide Map</button>
        </div>
        <div id="map"></div>
    </section>

    <section class="section">
        <h2 class="section-title">Featured Restaurants</h2>
        <div class="featured-grid" id="featuredGrid"></div>
    </section>

    <section class="newsletter">
        <h2>Stay in the Know: Sign Up for Our Newsletter!</h2>
        <p>Get the latest reviews and local dining news.</p>
        <form class="newsletter-form">
            <input type="email" class="newsletter-input" placeholder="Enter your email">
            <button type="submit" class="newsletter-btn">Subscribe ›</button>
        </form>
    </section>

    <script>
        const featured = [
            {
                name: "La Luna Ristorante",
                category: "Italian",
                town: "Branford",
                address: "113 Main St, Branford",
                phone: "203-483-9995",
                website: "https://lalunact.com/",
                logo: "branford-logos/lalunahomere.webp",
                foodImage: "https://images.unsplash.com/photo-1595295333158-4742f28fbd85?w=500&h=300&fit=crop",
                stars: 5,
                darkBg: false
            },
            {
                name: "Longley's",
                category: "American",
                town: "Branford",
                address: "249 W Main St, Branford",
                phone: "203-488-5553",
                website: "https://longleysct.com/",
                logo: "branford-logos/longleysblack.webp",
                foodImage: "https://images.unsplash.com/photo-1551782450-a2132b4ba21d?w=500&h=300&fit=crop",
                stars: 4,
                darkBg: false
            },
            {
                name: "Mexitale",
                category: "Mexican",
                town: "Guilford",
                address: "1080 Boston Post Rd, Guilford",
                phone: "475-223-6083",
                website: "https://mexitalekitchen.com/",
                logo: "guilford-logos/Mexitale-web-1.webp",
                foodImage: "https://images.unsplash.com/photo-1565299585323-38d6b0865b47?w=500&h=300&fit=crop",
                stars: 5,
                darkBg: false
            },
            {
                name: "Parthenon Diner",
                category: "Greek & American",
                town: "Branford",
                address: "374 E Main St, Branford",
                phone: "203-481-0333",
                website: "https://parthenondiner.com/",
                logo: "branford-logos/DINER-2-2.webp",
                foodImage: "https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=500&h=300&fit=crop",
                stars: 4,
                darkBg: true
            }
        ];

        const grid = document.getElementById('featuredGrid');
        featured.forEach(r => {
            const starsHtml = Array(5).fill(0).map((_, i) => 
                `<span class="star${i < r.stars ? '' : ' empty'}">★</span>`
            ).join('');
            const directionsUrl = `https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(r.address)}`;
            const websiteDomain = r.website.replace(/https?:\/\//, '').replace(/\/$/, '');

            grid.innerHTML += `
                <div class="featured-card">
                    <div class="card-image-wrapper">
                        <img class="card-food-image" src="${r.foodImage}" alt="${r.name}">
                        <div class="card-overlay">
                            <div class="card-name">${r.name}</div>
                            <div class="card-stars">${starsHtml}</div>
                        </div>
                    </div>
                    <button class="card-toggle" onclick="toggleDetails(this)">
                        View More
                        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/></svg>
                    </button>
                    <div class="card-details">
                        <img class="card-logo ${r.darkBg ? 'dark-bg' : ''}" src="${r.logo}" alt="${r.name} logo">
                        <div class="detail-row">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>
                            <a href="tel:${r.phone.replace(/-/g, '')}">${r.phone}</a>
                        </div>
                        <div class="detail-row">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                            <span>${r.address}</span>
                        </div>
                        <div class="detail-row">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                            <a href="${r.website}" target="_blank">${websiteDomain}</a>
                        </div>
                        <a href="${directionsUrl}" target="_blank" class="directions-btn">
                            <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M21.71 11.29l-9-9c-.39-.39-1.02-.39-1.41 0l-9 9c-.39.39-.39 1.02 0 1.41l9 9c.39.39 1.02.39 1.41 0l9-9c.39-.38.39-1.01 0-1.41zM14 14.5V12h-4v3H8v-4c0-.55.45-1 1-1h5V7.5l3.5 3.5-3.5 3.5z"/></svg>
                            Get Directions
                        </a>
                    </div>
                </div>
            `;
        });

        function toggleDetails(btn) {
            const card = btn.closest('.featured-card');
            const details = card.querySelector('.card-details');
            details.classList.toggle('open');
            btn.classList.toggle('open');
            btn.innerHTML = details.classList.contains('open') 
                ? 'View Less <svg viewBox="0 0 24 24" fill="currentColor"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/></svg>'
                : 'View More <svg viewBox="0 0 24 24" fill="currentColor"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/></svg>';
        }

        // Map
        const map = L.map('map').setView([41.28, -72.65], 11);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap'
        }).addTo(map);

        const towns = [
            { name: 'East Haven', lat: 41.2762, lng: -72.8683 },
            { name: 'Branford', lat: 41.2795, lng: -72.8151 },
            { name: 'Guilford', lat: 41.2890, lng: -72.6818 },
            { name: 'Madison', lat: 41.2795, lng: -72.5984 },
            { name: 'Clinton', lat: 41.2787, lng: -72.5276 },
            { name: 'Westbrook', lat: 41.2885, lng: -72.4484 },
            { name: 'Old Saybrook', lat: 41.2915, lng: -72.3765 }
        ];

        towns.forEach(t => {
            L.marker([t.lat, t.lng]).addTo(map)
                .bindPopup(`<strong>${t.name}</strong><br><a href="restaurants-in-${t.name.toLowerCase().replace(' ', '-')}">View Restaurants</a>`);
        });

        let mapVisible = true;
        function toggleMap() {
            const mapEl = document.getElementById('map');
            const btn = document.querySelector('.map-toggle');
            mapVisible = !mapVisible;
            mapEl.style.display = mapVisible ? 'block' : 'none';
            btn.textContent = mapVisible ? 'Hide Map' : 'Show Map';
            if (mapVisible) map.invalidateSize();
        }
    </script>
</body>
</html>
